{"function_name": "datetime.date.isocalendar", "properties": ["1. The output year should be equal to the input year if the date falls within the first week of the year; otherwise, it should reflect the correct ISO year based on the week calculation.", "2. The output week should always be in the range of 1 to 53, inclusive, as per ISO week date standards.", "3. The output day should always be in the range of 1 to 7, corresponding to Monday through Sunday.", "4. For any given date, if the output week is 1, then the output year should be the same as the input year or one less if the date falls before the first Monday of the year.", "5. If the input date is the last day of the year (December 31), the output week should either be the last week of the year or the first week of the following year, depending on whether it falls before or after the first Monday of the new year."], "pbt": ["@given(st.dates())\ndef test_year_property(date):\n    year, week, day = date.isocalendar()\n    if week == 1:\n        assert year == date.year or year == date.year - 1", "@given(st.dates())\ndef test_week_range_property(date):\n    year, week, day = date.isocalendar()\n    assert 1 <= week <= 53", "@given(st.dates())\ndef test_day_range_property(date):\n    year, week, day = date.isocalendar()\n    assert 1 <= day <= 7", "@given(st.dates())\ndef test_first_week_year_property(date):\n    year, week, day = date.isocalendar()\n    if week == 1:\n        assert year == date.year or (date.month == 1 and date.day <= 7 and year == date.year - 1)", "@given(st.dates())\ndef test_last_day_of_year_property(date):\n    if date.month == 12 and date.day == 31:\n        year, week, day = date.isocalendar()\n        if week == 1:\n            assert year == date.year + 1 or week == 53\n        else:\n            assert week == 52 or week == 53"], "api_doc": "date.isocalendar()\nReturn a named tuple object with three components: year, week and weekday.\n\nThe ISO calendar is a widely used variant of the Gregorian calendar. [3]\n\nThe ISO year consists of 52 or 53 full weeks, and where a week starts on a Monday and ends on a Sunday. The first week of an ISO year is the first (Gregorian) calendar week of a year containing a Thursday. This is called week number 1, and the ISO year of that Thursday is the same as its Gregorian year.\n\nFor example, 2004 begins on a Thursday, so the first week of ISO year 2004 begins on Monday, 29 Dec 2003 and ends on Sunday, 4 Jan 2004:\n\n>>>\nfrom datetime import date\ndate(2003, 12, 29).isocalendar()\ndatetime.IsoCalendarDate(year=2004, week=1, weekday=1)\ndate(2004, 1, 4).isocalendar()\ndatetime.IsoCalendarDate(year=2004, week=1, weekday=7)\nChanged in version 3.9: Result changed from a tuple to a named tuple."}
